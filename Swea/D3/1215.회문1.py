import sys
sys.stdin = open('1215.txt')

T = 10
for tc in range(1, T+1):
    N = int(input()) # íšŒë¬¸ì˜ ê¸¸ì´ 4
    arr = [list(input()) for _ in range(8)] # ê¸€ì íŒ
    # for line in arr:
    #     print(*line)

    cnt = 0
    # ì„¸ë¡œíšŒë¬¸ê²€ì‚¬
    for i in range(8): 
        for j in range(8-N+1):
            e = j+N-1 # ì„¸ë¡œíšŒë¬¸ ë§ˆì§€ë§‰ str
            for k in range(N//2): # ê¸¸ì´ì˜ ë°˜ë§Œí¼ ì‹¤í–‰
                if arr[j+k][i] != arr[e-k][i]:
                    break
            else:
                cnt += 1

    # ê°€ë¡œíšŒë¬¸ê²€ì‚¬
    for i in range(8):
        for j in range(8-N+1):
            e = j+N-1
            for k in range(N//2):
                if arr[i][j+k] != arr[i][e-k]:
                    break
            else:
                cnt += 1
    print(f'#{tc} {cnt}')



'''

# ë³´ì¶© ê°•ì‚¬ë‹˜ ì½”ë“œ

    # ğŸ›°ï¸ ì½”ë“œ
T = 10  # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
N = 8  # ë³´ë“œì˜ í¬ê¸°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
for tc in range(1, T+1):  # ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•´
    length = int(input())  # íŒ°ë¦°ë“œë¡¬ì˜ ê¸¸ì´ë¥¼ ì…ë ¥ë°›ìŠµë‹ˆë‹¤.
    board = [list(input()) for _ in range(N)]  # N x N í¬ê¸°ì˜ ë³´ë“œë¥¼ ì…ë ¥ë°›ìŠµë‹ˆë‹¤.
    result = 0  # íŒ°ë¦°ë“œë¡¬ì˜ ê°œìˆ˜ë¥¼ ì €ì¥í•  ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
    for i in range(N):  # ë³´ë“œì˜ ê° í–‰ì— ëŒ€í•´
        for j in range(N - length +1):  # íŒ°ë¦°ë“œë¡¬ì˜ ê¸¸ì´ë¥¼ ê³ ë ¤í•˜ì—¬ ê° ì—´ì— ëŒ€í•´
            h = board[i][j:j+length]  # ê°€ë¡œ ë°©í–¥ì˜ ë¬¸ìì—´ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
            if h == h[::-1]:  # ì¶”ì¶œí•œ ë¬¸ìì—´ì´ íŒ°ë¦°ë“œë¡¬ì´ë¼ë©´
                result += 1  # ê²°ê³¼ì— 1ì„ ë”í•©ë‹ˆë‹¤.
            v = [k[i] for k in board[j:j+length]]  # ì„¸ë¡œ ë°©í–¥ì˜ ë¬¸ìì—´ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
            if v == v[::-1]:  # ì¶”ì¶œí•œ ë¬¸ìì—´ì´ íŒ°ë¦°ë“œë¡¬ì´ë¼ë©´
                result += 1  # ê²°ê³¼ì— 1ì„ ë”í•©ë‹ˆë‹¤.

    print(f'#{tc} {result}')  # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë²ˆí˜¸ì™€ íŒ°ë¦°ë“œë¡¬ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
    
    
ë¸Œë£¨íŠ¸ í¬ìŠ¤
T = 10  # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ìˆ˜ì…ë‹ˆë‹¤.

def bf(pattern, text):
    len_p = len(pattern)  # íŒ¨í„´ ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
    len_t = len(text)  # í…ìŠ¤íŠ¸ ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
    i = j = 0  # í…ìŠ¤íŠ¸ì™€ íŒ¨í„´ì„ ìˆœíšŒí•˜ëŠ” ì¸ë±ìŠ¤ì…ë‹ˆë‹¤.
    cnt = 0  # íŒ¨í„´ì´ í…ìŠ¤íŠ¸ì—ì„œ ë“±ì¥í•˜ëŠ” íšŸìˆ˜ì…ë‹ˆë‹¤.
    while i < len_t and j < len_p:  # í…ìŠ¤íŠ¸ì™€ íŒ¨í„´ì„ ë™ì‹œì— ìˆœíšŒí•©ë‹ˆë‹¤.
        if text[i] != pattern[j]:  # ë§Œì•½ í˜„ì¬ ìœ„ì¹˜ì˜ ë¬¸ìê°€ ì„œë¡œ ë‹¤ë¥´ë‹¤ë©´
            i = i - j  # í…ìŠ¤íŠ¸ì˜ ì¸ë±ìŠ¤ë¥¼ ë˜ëŒë¦½ë‹ˆë‹¤.
            j = - 1  # íŒ¨í„´ì˜ ì¸ë±ìŠ¤ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. < ì—¬ê¸°ê¹Œì§€íƒìƒ‰
        i += 1  # í…ìŠ¤íŠ¸ì˜ ì¸ë±ìŠ¤ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
        j += 1  # íŒ¨í„´ì˜ ì¸ë±ìŠ¤ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤. < ê³„ì†ì§„í–‰
        if j == len_p:  # ë§Œì•½ íŒ¨í„´ì„ ëª¨ë‘ ìˆœíšŒí–ˆë‹¤ë©´
            cnt += 1  # ì¹´ìš´íŠ¸ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
            i = i - j + 1  # í…ìŠ¤íŠ¸ì˜ ì¸ë±ìŠ¤ë¥¼ íŒ¨í„´ì˜ ê¸¸ì´ë§Œí¼ ë˜ëŒë¦½ë‹ˆë‹¤.
            j = 0  # íŒ¨í„´ì˜ ì¸ë±ìŠ¤ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. < ì„±ê³µ
    return cnt  # íŒ¨í„´ì´ í…ìŠ¤íŠ¸ì—ì„œ ë“±ì¥í•˜ëŠ” íšŸìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

for _ in range(T):  # ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•´
    tc = input()  # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë²ˆí˜¸ë¥¼ ì…ë ¥ë°›ìŠµë‹ˆë‹¤.
    result = 0  # ê²°ê³¼ë¥¼ ì €ì¥í•  ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
    pattern = input()  # íŒ¨í„´ ë¬¸ìì—´ì„ ì…ë ¥ë°›ìŠµë‹ˆë‹¤.
    text = input()  # í…ìŠ¤íŠ¸ ë¬¸ìì—´ì„ ì…ë ¥ë°›ìŠµë‹ˆë‹¤.
    result = bf(pattern, text)  # bf í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²°ê³¼ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
    print(f'#{tc} {result}')  # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë²ˆí˜¸ì™€ ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

'''